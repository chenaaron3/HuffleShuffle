{
  "id": "aecdc96b-8ebc-495b-b683-464637d6b879",
  "prevId": "0d1c176b-cca5-4bab-94e7-2847fa862613",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.huffle-shuffle_account": {
      "name": "huffle-shuffle_account",
      "schema": "",
      "columns": {
        "userId": {
          "name": "userId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "providerAccountId": {
          "name": "providerAccountId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "token_type": {
          "name": "token_type",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "id_token": {
          "name": "id_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_state": {
          "name": "session_state",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "accounts_user_id_idx": {
          "name": "accounts_user_id_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "huffle-shuffle_account_userId_huffle-shuffle_user_id_fk": {
          "name": "huffle-shuffle_account_userId_huffle-shuffle_user_id_fk",
          "tableFrom": "huffle-shuffle_account",
          "tableTo": "huffle-shuffle_user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "huffle-shuffle_account_provider_providerAccountId_pk": {
          "name": "huffle-shuffle_account_provider_providerAccountId_pk",
          "columns": [
            "provider",
            "providerAccountId"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.huffle-shuffle_game": {
      "name": "huffle-shuffle_game",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "tableId": {
          "name": "tableId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "isCompleted": {
          "name": "isCompleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'DEAL_HOLE_CARDS'"
        },
        "dealerButtonSeatId": {
          "name": "dealerButtonSeatId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "assignedSeatId": {
          "name": "assignedSeatId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "communityCards": {
          "name": "communityCards",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        },
        "potTotal": {
          "name": "potTotal",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "betCount": {
          "name": "betCount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "requiredBetCount": {
          "name": "requiredBetCount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "game_table_id_idx": {
          "name": "game_table_id_idx",
          "columns": [
            {
              "expression": "tableId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "game_dealer_button_seat_id_idx": {
          "name": "game_dealer_button_seat_id_idx",
          "columns": [
            {
              "expression": "dealerButtonSeatId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "game_assigned_seat_id_idx": {
          "name": "game_assigned_seat_id_idx",
          "columns": [
            {
              "expression": "assignedSeatId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "huffle-shuffle_game_tableId_huffle-shuffle_poker_table_id_fk": {
          "name": "huffle-shuffle_game_tableId_huffle-shuffle_poker_table_id_fk",
          "tableFrom": "huffle-shuffle_game",
          "tableTo": "huffle-shuffle_poker_table",
          "columnsFrom": [
            "tableId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "huffle-shuffle_game_dealerButtonSeatId_huffle-shuffle_seat_id_fk": {
          "name": "huffle-shuffle_game_dealerButtonSeatId_huffle-shuffle_seat_id_fk",
          "tableFrom": "huffle-shuffle_game",
          "tableTo": "huffle-shuffle_seat",
          "columnsFrom": [
            "dealerButtonSeatId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "huffle-shuffle_game_assignedSeatId_huffle-shuffle_seat_id_fk": {
          "name": "huffle-shuffle_game_assignedSeatId_huffle-shuffle_seat_id_fk",
          "tableFrom": "huffle-shuffle_game",
          "tableTo": "huffle-shuffle_seat",
          "columnsFrom": [
            "assignedSeatId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.huffle-shuffle_pi_device": {
      "name": "huffle-shuffle_pi_device",
      "schema": "",
      "columns": {
        "serial": {
          "name": "serial",
          "type": "varchar(128)",
          "primaryKey": true,
          "notNull": true
        },
        "tableId": {
          "name": "tableId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "pi_device_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "seatNumber": {
          "name": "seatNumber",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "publicKey": {
          "name": "publicKey",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lastSeenAt": {
          "name": "lastSeenAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "pi_device_table_id_idx": {
          "name": "pi_device_table_id_idx",
          "columns": [
            {
              "expression": "tableId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "huffle-shuffle_pi_device_tableId_huffle-shuffle_poker_table_id_fk": {
          "name": "huffle-shuffle_pi_device_tableId_huffle-shuffle_poker_table_id_fk",
          "tableFrom": "huffle-shuffle_pi_device",
          "tableTo": "huffle-shuffle_poker_table",
          "columnsFrom": [
            "tableId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.huffle-shuffle_poker_table": {
      "name": "huffle-shuffle_poker_table",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "dealerId": {
          "name": "dealerId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "smallBlind": {
          "name": "smallBlind",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "bigBlind": {
          "name": "bigBlind",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "maxSeats": {
          "name": "maxSeats",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 8
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "poker_table_dealer_id_unique": {
          "name": "poker_table_dealer_id_unique",
          "columns": [
            {
              "expression": "dealerId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "poker_table_name_idx": {
          "name": "poker_table_name_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "huffle-shuffle_poker_table_dealerId_huffle-shuffle_user_id_fk": {
          "name": "huffle-shuffle_poker_table_dealerId_huffle-shuffle_user_id_fk",
          "tableFrom": "huffle-shuffle_poker_table",
          "tableTo": "huffle-shuffle_user",
          "columnsFrom": [
            "dealerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.huffle-shuffle_seat": {
      "name": "huffle-shuffle_seat",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "tableId": {
          "name": "tableId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "playerId": {
          "name": "playerId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "seatNumber": {
          "name": "seatNumber",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "buyIn": {
          "name": "buyIn",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "startingBalance": {
          "name": "startingBalance",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currentBet": {
          "name": "currentBet",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cards": {
          "name": "cards",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "encryptedUserNonce": {
          "name": "encryptedUserNonce",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "encryptedPiNonce": {
          "name": "encryptedPiNonce",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "handType": {
          "name": "handType",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "handDescription": {
          "name": "handDescription",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "winAmount": {
          "name": "winAmount",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "winningCards": {
          "name": "winningCards",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "CURRENT_TIMESTAMP"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "seat_table_number_unique": {
          "name": "seat_table_number_unique",
          "columns": [
            {
              "expression": "tableId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "seatNumber",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "seat_player_unique": {
          "name": "seat_player_unique",
          "columns": [
            {
              "expression": "playerId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "seat_table_id_idx": {
          "name": "seat_table_id_idx",
          "columns": [
            {
              "expression": "tableId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "huffle-shuffle_seat_tableId_huffle-shuffle_poker_table_id_fk": {
          "name": "huffle-shuffle_seat_tableId_huffle-shuffle_poker_table_id_fk",
          "tableFrom": "huffle-shuffle_seat",
          "tableTo": "huffle-shuffle_poker_table",
          "columnsFrom": [
            "tableId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "huffle-shuffle_seat_playerId_huffle-shuffle_user_id_fk": {
          "name": "huffle-shuffle_seat_playerId_huffle-shuffle_user_id_fk",
          "tableFrom": "huffle-shuffle_seat",
          "tableTo": "huffle-shuffle_user",
          "columnsFrom": [
            "playerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.huffle-shuffle_session": {
      "name": "huffle-shuffle_session",
      "schema": "",
      "columns": {
        "sessionToken": {
          "name": "sessionToken",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "expires": {
          "name": "expires",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "session_user_id_idx": {
          "name": "session_user_id_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "huffle-shuffle_session_userId_huffle-shuffle_user_id_fk": {
          "name": "huffle-shuffle_session_userId_huffle-shuffle_user_id_fk",
          "tableFrom": "huffle-shuffle_session",
          "tableTo": "huffle-shuffle_user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.huffle-shuffle_user": {
      "name": "huffle-shuffle_user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "emailVerified": {
          "name": "emailVerified",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "image": {
          "name": "image",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'player'"
        },
        "balance": {
          "name": "balance",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "publicKey": {
          "name": "publicKey",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "user_balance_non_negative": {
          "name": "user_balance_non_negative",
          "value": "\"huffle-shuffle_user\".\"balance\" >= 0"
        }
      },
      "isRLSEnabled": false
    },
    "public.huffle-shuffle_verification_token": {
      "name": "huffle-shuffle_verification_token",
      "schema": "",
      "columns": {
        "identifier": {
          "name": "identifier",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "expires": {
          "name": "expires",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "huffle-shuffle_verification_token_identifier_token_pk": {
          "name": "huffle-shuffle_verification_token_identifier_token_pk",
          "columns": [
            "identifier",
            "token"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.game_state": {
      "name": "game_state",
      "schema": "public",
      "values": [
        "INITIAL",
        "GAME_START",
        "DEAL_HOLE_CARDS",
        "BETTING",
        "DEAL_FLOP",
        "DEAL_TURN",
        "DEAL_RIVER",
        "SHOWDOWN",
        "RESET_TABLE"
      ]
    },
    "public.pi_device_type": {
      "name": "pi_device_type",
      "schema": "public",
      "values": [
        "scanner",
        "dealer",
        "card",
        "button"
      ]
    },
    "public.user_role": {
      "name": "user_role",
      "schema": "public",
      "values": [
        "player",
        "dealer"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}