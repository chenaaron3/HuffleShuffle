{
    "name": "huffle-shuffle-lambda-consumer",
    "version": "1.0.0",
    "description": "AWS Lambda function for processing SQS messages from card scanners",
    "main": "dist/consumer.js",
    "type": "module",
    "scripts": {
        "build": "esbuild consumer.ts --bundle --platform=node --target=node18 --outfile=dist/consumer.js --external:aws-sdk --format=esm --define:import.meta.url=__filename",
        "build:watch": "esbuild consumer.ts --bundle --platform=node --target=node18 --outfile=dist/consumer.js --external:aws-sdk --format=esm --define:import.meta.url=__filename --watch",
        "deploy": "npm run build && node -r dotenv/config ./node_modules/.bin/serverless deploy",
        "deploy:prod": "npm run build && node -r dotenv/config ./node_modules/.bin/serverless deploy --stage production",
        "remove": "node -r dotenv/config ./node_modules/.bin/serverless remove",
        "logs": "node -r dotenv/config ./node_modules/.bin/serverless logs -f ingest",
        "invoke:local": "npm run build && node -r dotenv/config ./node_modules/.bin/serverless invoke local -f ingest --path test-event.json --config serverless.test.yml"
    },
    "devDependencies": {
        "@types/aws-lambda": "^8.10.0",
        "@types/node": "^20.14.10",
        "esbuild": "^0.25.0",
        "serverless": "^3.0.0",
        "serverless-esbuild": "^1.0.0",
        "typescript": "^5.8.2"
    },
    "engines": {
        "node": ">=18.0.0"
    },
    "dependencies": {
        "dotenv": "^17.2.1",
        "drizzle-orm": "^0.41.0",
        "poker-hand-evaluator": "^1.0.1",
        "postgres": "^3.4.7",
        "pusher": "^5.2.0",
        "serverless-dotenv-plugin": "^3.12.2"
    }
}
